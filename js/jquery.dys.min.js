!function(r){r.fn.dys=function(){r(this).each(function(){var t=r(this),i="dys_"+t.index();t.after("<div id='"+i+"' class='dys'><div class=\"nav left\">&#x1F890;</div><div class=\"vis\"><input type='text' class='fltr' autocomplete='off' /></div><div class=\"nav right\">&#x1F892;</div><div class='pop'></div></div>").hide();var n=r("#"+i),d=n.find(".vis"),s=n.find(".pop");function l(e){a(),n.find(".en").each(function(){(!e||-1<r(this).text().toLowerCase().indexOf(e))&&s.append("<div class='sr'>"+r(this).text()+"</div>")}),r.trim(s.html())&&(n.addClass("pop"),s.slideDown("fast"))}function a(){s.html("").hide(),n.removeClass("pop")}function o(e){n.find(".sel").removeClass("sel"),t.find("option:selected").removeAttr("selected"),t.find('option:contains("'+n.find(".en-"+e).addClass("sel").text()+'")').attr("selected","selected")}n.find(".fltr").outerWidth(d.outerWidth()).outerHeight(d.outerHeight()-2),s.outerWidth(n.outerWidth()).hide(),t.find("option").each(function(){var e="en-"+(r(this).index()+1);r.trim(r(this).text())==r.trim(t.children("option").filter(":selected").text())&&(e+=" sel"),r("#"+i).find(".vis").append('<span class="en '+e+'">'+r.trim(r(this).text())+"</span>")}),n.on("click",function(e){e.stopImmediatePropagation();var t=e.target;if(r(t).is(".sel:not(.fltr)"))r(t).addClass("cur").removeClass("sel").siblings(".fltr").addClass("sel").focus(),l();else if(r(t).hasClass("nav")){var i=n.find(".sel").index(),s=d.find(".en").length;o(r(t).index()?i==s?1:i+1:1==i?s:i-1),a()}else r(t).hasClass("sr")&&(o(r(".en:contains('"+r(t).text()+"')").index()),a())}),n.find(".fltr").blur(function(){r(this).val("").removeClass("sel").siblings(".cur").addClass("sel").removeClass("cur")}).on("keyup",function(){l(r(this).val())}),r(document).on("click",function(){a()})})}}(jQuery);